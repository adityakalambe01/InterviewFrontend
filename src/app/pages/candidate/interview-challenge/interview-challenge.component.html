<app-challenge-instructions *ngIf="!challengeSession?.startTime && !challengeSession?.endTime" (startChallenge)="onStartChallengeSession()"></app-challenge-instructions>
<section
*ngIf="challengeSession?.startTime"
  class="w-dvw h-dvh bg-gray-50 dark:bg-gray-800"
  [ngClass]="{
    'flex justify-center items-center':
      !challengeSession?.startTime || challengeSession?.endTime
  }"
>
  <div
    *ngIf="challengeSession?.startTime && !challengeSession?.endTime"
    class="pt-3 flex-col"
  >
    <div
      class="flex justify-between items-center max-md:flex-col max-md:justify-start max-md:items-start px-2 py-3"
    >
      <div>
        <h2
          class="text-xl font-bold tracking-tight text-gray-400 dark:text-white"
        >
          Challenge #{{ challengeSession?._id }}
        </h2>
        <p class="text-gray-600 dark:text-gray-400">
          Started at:
          {{ challengeSession?.startTime | date : "short" }}
        </p>
      </div>
      <div>
        <h2
          class="text-xl font-bold tracking-tight text-gray-400 dark:text-white"
        >
          Time Spent: {{ challengeSession?.startTime | timeDifference }}
        </h2>
        <p class="text-gray-600 dark:text-gray-400">
          Status: {{ challengeSession?.status }}
        </p>
      </div>
      <div>
        <button
        class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800"
        *ngIf="challengeSession?.startTime"
        (click)="saveProject()"
      >
        <span
          class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-transparent group-hover:dark:bg-transparent"
        >
          Save
        </span>
      </button>
      <button
        class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800"
        *ngIf="challengeSession?.startTime"
        (click)="onEndChallengeSession()"
      >
        <span
          class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-transparent group-hover:dark:bg-transparent"
        >
          End Challenge
        </span>
      </button>
      </div>
    </div>
    <div>
    </div>
    <div>
      <div id="editor-container"></div>
      <app-camera class="fixed z-[9999] bottom-2 right-2 w-1/12 max-md:w-2/12" *ngIf="challengeSession?.startTime"></app-camera>
    </div>
  </div>
</section>
